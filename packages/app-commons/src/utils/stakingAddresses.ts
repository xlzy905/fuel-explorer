import type { Address } from 'viem';
import { STAKING_ENV } from '../config';
import type { StakingEnv } from '../types';

export type Token = {
  token: Address;
  symbol: string;
  decimals: number;
};

interface Contracts {
  FUEL_V1_TOKEN: Address; // MigratedToken  @ fuel-rollup
  FUEL_V1_TOKEN_DECIMALS: number;
  FUEL_V2_TOKEN: Address; // Token @ fuel-rollup
  FUEL_V2_TOKEN_DECIMALS: number;
  FUEL_VESTING: Address; // TokenFaucet @ fuel-rollup
  FUEL_TOKEN_MIGRATOR: Address; // TokenMigrator @ fuel-rollup
  SEQUENCER_INTERFACE: Address; // SequencerInterface @ fuel-rollup
  SEQUENCER_PROXY: Address; // SequencerProxy @ fuel-rollup
  FUEL_STREAM_X: Address; // FuelStreamX @ fuel-rollup
  MIGRATOR_MULTIPLIER: bigint;
  MIGRATOR_DOWNSCALING_FACTOR: bigint;
  REWARD_DISTRIBUTION_CONTRACT: Address;
  VAULT: Address;
  L2_STAKING: Address; // L2Staking migration contract @ fuel-rollup
}

const FUEL_ASSET_ID: Record<StakingEnv, Address> = {
  MAINNET: '0x1d5d97005e41cae2187a895fd8eab0506111e0e2f3331cd3912c15c24e3c1d82',
  SANDBOX: '0x4f49cda6679177f7a76c330b68b660c6e4a0261a9452aaa5d9e66c52b910620a',
  TESTNET: '0x324d0c35a4299ef88138a656d5272c5a3a9ccde2630ae055dacaf9d13443d53b',
  LOCAL: '0x',
};

export const STAKING_CONTRACTS: Record<StakingEnv, Contracts> = {
  MAINNET: {
    FUEL_V1_TOKEN: '0x56EBDaE96d179549f279ea0cFEa3b3432B8Cd2bC',
    FUEL_V1_TOKEN_DECIMALS: 18,
    FUEL_V2_TOKEN: '0x675B68AA4d9c2d3BB3F0397048e62E6B7192079c',
    FUEL_V2_TOKEN_DECIMALS: 9,
    FUEL_VESTING: '0xde8a1c2d142bc8f3bf3181a2e301a37471508fe1',
    FUEL_TOKEN_MIGRATOR: '0x50Ed39b58f66338B84E67e6Ff9a2bf00725EdFE8',
    SEQUENCER_INTERFACE: '0xca0c6B264f0F9958Ec186eb2EAa208966187D866',
    SEQUENCER_PROXY: '0xBa0e6bF94580D49B5Aaaa54279198D424B23eCC3',
    FUEL_STREAM_X: '0x481aeEB9bdFe08f050d22F0b352356691c4B0b59',
    MIGRATOR_MULTIPLIER: 100n,
    MIGRATOR_DOWNSCALING_FACTOR: 1000000000n,
    REWARD_DISTRIBUTION_CONTRACT: '0xC20c2EA5fC5f26200f3339512f336c2ecE41FC18',
    VAULT: '0xd57d30D06969E5A98516e9f8D009C6F39EC169eE',
    L2_STAKING:
      '0x095faac82412324c60fdf6934405b5df9de49982284779536218d16d5ee3dc4c',
  },
  SANDBOX: {
    FUEL_V1_TOKEN: '0xBcfB4f01c7764e926de05C5BE417F6Fd74BA188B',
    FUEL_V1_TOKEN_DECIMALS: 18,
    FUEL_V2_TOKEN: '0xbAca88A993d9A1452402dC511eFEEcDA1B18C18F',
    FUEL_V2_TOKEN_DECIMALS: 9,
    FUEL_VESTING: '0x04e851E7192863298AF83Ae16de89424fCE024F4',
    FUEL_TOKEN_MIGRATOR: '0x768a40F47361b54D6c713423C93991db09c42C88',
    SEQUENCER_INTERFACE: '0x73a77D95806d6c0890262FB55EF7d533D71129CE',
    SEQUENCER_PROXY: '0x62552BC451286EA510c1fDb8DCFb9369A75c3a31',
    FUEL_STREAM_X: '0xEaFc024af99347b9cf50254f7F610fB728cD3Fff',
    MIGRATOR_MULTIPLIER: 100n,
    MIGRATOR_DOWNSCALING_FACTOR: 1000000000n,
    REWARD_DISTRIBUTION_CONTRACT: '0x',
    VAULT: '0xEcb5078fE8820157396911139a523AaD652AA2F0',
    L2_STAKING:
      '0x5ff34fd0b0584a9436f6b4c3fcdf87da502b3055552edcc24bd2c5c3a8dd1a6f',
  },
  TESTNET: {
    FUEL_V1_TOKEN: '0x9Cf47dDBebedB7f740417Bfd87efc7c3CD63Adec',
    FUEL_V1_TOKEN_DECIMALS: 18,
    FUEL_V2_TOKEN: '0xd7Fc4e8FB2c05567C313f4C9b9e07641a361a550',
    FUEL_V2_TOKEN_DECIMALS: 9,
    FUEL_VESTING: '0x7E2DB7DabaB2A8294292ecAde3F1328B2BDfc730',
    FUEL_TOKEN_MIGRATOR: '0x41d047B393C12Db1a48766690C12134999228965',
    SEQUENCER_INTERFACE: '0x742C478a1951257E83d3aC8f3DFB3A8e6AB9a2E4',
    SEQUENCER_PROXY: '0x0E5CAcD6899a1E2a4B4E6e0c8a1eA7feAD3E25eD',
    FUEL_STREAM_X: '0x130F143e0F6d87371ca510e11340C2F3cD407a2b',
    MIGRATOR_MULTIPLIER: 100n,
    MIGRATOR_DOWNSCALING_FACTOR: 1000000000n,
    REWARD_DISTRIBUTION_CONTRACT: '0x7c8deB33b992629130CE160f766881A191d874ce',
    VAULT: '0xDC337a28d62eC3295F896171FA82C39c2a8e7c0A',
    L2_STAKING:
      '0x1fc685e1c63bbec4784079e60d4124537388f5b96773f16dfad454fae1e4f32e',
  },
  LOCAL: {
    FUEL_V1_TOKEN: '0x9fE46736679d2D9a65F0992F2272dE9f3c7fa6e0',
    FUEL_V1_TOKEN_DECIMALS: 18,
    FUEL_V2_TOKEN: '0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512',
    FUEL_V2_TOKEN_DECIMALS: 9,
    FUEL_VESTING: '0x',
    FUEL_TOKEN_MIGRATOR: '0x610178dA211FEF7D417bC0e6FeD39F05609AD788',
    SEQUENCER_INTERFACE: '0x2279B7A0a67DB372996a5FaB50D91eAA73d2eBe6',
    SEQUENCER_PROXY: '0x',
    FUEL_STREAM_X: '0xFD471836031dc5108809D173A067e8486B9047A3',
    MIGRATOR_MULTIPLIER: 100n,
    MIGRATOR_DOWNSCALING_FACTOR: 1000000000n,
    REWARD_DISTRIBUTION_CONTRACT: '0x',
    VAULT: '0x',
    L2_STAKING: '0x',
  },
};

export const getCurrentNetworkContracts = (env: string) => {
  return STAKING_CONTRACTS[env.toUpperCase() as StakingEnv];
};

const SIMPLY_STAKING_EXPLORERS: Record<StakingEnv, string> = {
  MAINNET: 'https://fuel-seq.simplystaking.xyz/fuel-mainnet',
  SANDBOX: 'https://fuel-seq.simplystaking.xyz/fuel-sandbox',
  TESTNET: 'https://fuel-seq.simplystaking.xyz/fuel-testnet',
  LOCAL: 'https://fuel-seq.simplystaking.xyz/fuel-testnet',
};

export const CURRENT_NETWORK_CONTRACTS = STAKING_CONTRACTS[STAKING_ENV];
export const CURRENT_NETWORK_FUEL_ASSET_ID = FUEL_ASSET_ID[STAKING_ENV];
export const CURRENT_SIMPLY_STAKING_EXPLORER =
  SIMPLY_STAKING_EXPLORERS[STAKING_ENV];

export enum FuelToken {
  V1 = 0,
  V2 = 1,
}

export const TOKENS: Record<FuelToken, Token> = {
  [FuelToken.V1]: {
    token: CURRENT_NETWORK_CONTRACTS.FUEL_V1_TOKEN,
    symbol: 'FUEL V1',
    decimals: CURRENT_NETWORK_CONTRACTS.FUEL_V1_TOKEN_DECIMALS,
  },
  [FuelToken.V2]: {
    token: CURRENT_NETWORK_CONTRACTS.FUEL_V2_TOKEN,
    symbol: 'FUEL',
    decimals: CURRENT_NETWORK_CONTRACTS.FUEL_V2_TOKEN_DECIMALS,
  },
};
